<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?senson=false"></script>
    <script>
        //获取当前地理位置
        function init(){
            navigator.geolocation.getCurrentPosition(function(position){
                var coords=position.coords;
                // 设定地图参数，将用户的当前地理的经纬度设为地图中心点
                var latlng=new google.maps.LatLng(coords.latitude,coords.longitude);
                var myOptions={
                    zoom:14,
                    center:latlng,
                    mapTypeId:google.maps.MapTypeId.ROADMAP
                };
                // 创建地图并在map div中显示
                var map1;
                map1= new google.maps.Map(document.getElementById("map"),myOptions);
                // 地图上创建标记
                var marker=new google.maps.Marker({
                    position:latlng,
                    map:map1
                });
                // 设定标准窗口，并指定窗口的注释文字
                var infowindow=new google.maps.InfoWindow({
                    content:"当前位置"
                });
                infowindow.open(map1,marker);
            })
        }
    </script>
</head>
<body onload="init()">
    <div id="map" style="width: 512px;height: 512px;"></div>
</body>
</html>